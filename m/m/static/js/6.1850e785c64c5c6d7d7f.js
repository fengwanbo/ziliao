webpackJsonp([6],{A2k9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{type:"tab",center:{lng:104.071756,lat:30.663776},markerArr:[]}},mounted:function(){var e=this,t=Date.parse(new Date),a=this;this.$api.base.map({time:t,type:"",keywords:"",cat_id:"",district:"",order:"",sort:""}).then(function(t){0!=t.data.length&&(a.markerArr=t.data.list,null!=t.data.center&&(a.center=t.data.center));var n=document.body.scrollHeight-46;e.$refs.myMap.style="height:"+n+"px",a.initMap()})},methods:{onClickLeft:function(){window.history.length>1?window.history.go(-1):window.location.href="/mobile/index.php"},initMap:function(){this.createMap(),this.setMapEvent(),this.addMapControl(),this.addMarker()},createMap:function(){var e=new BMap.Map(this.$refs.myMap),t=new BMap.Point(this.center.lng,this.center.lat);e.centerAndZoom(t,11),window.map=e},setMapEvent:function(){map.enableDragging(),map.enableScrollWheelZoom(),map.enableDoubleClickZoom(),map.enableKeyboard()},addMapControl:function(){var e=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE});map.addControl(e);var t=new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:1});map.addControl(t);var a=new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});map.addControl(a)},addMarker:function(){for(var e=this.markerArr,t=new Array,a=new Array,n=new Array,r=0;r<e.length;r++){var o=e[r].x,i=e[r].y;t[r]=new window.BMap.Point(o,i),a[r]=new window.BMap.Marker(t[r]),map.addOverlay(a[r]),a[r].setAnimation(BMAP_ANIMATION_BOUNCE);var d=new window.BMap.Label(e[r].shop_name,{offset:new window.BMap.Size(20,-10)});d.setStyle({color:"#000",fontSize:"14px",backgroundColor:"#fff",border:"1px solid red",fontWeight:"bold",padding:"2px 6px"}),a[r].setLabel(d),n[r]=new window.BMap.InfoWindow("<p style='font-size:12px;line-height:1.8em;'"+e[r].title+"</br>地址："+e[r].address+"</br> 联系人："+e[r].contact+"</p>")}}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("van-nav-bar",{attrs:{title:"商家位置","left-arrow":""},on:{"click-left":this.onClickLeft}}),this._v(" "),t("div",{staticClass:"map"},[t("div",{ref:"myMap",attrs:{id:"baiduMap"}})])],1)},staticRenderFns:[]};var o=a("C7Lr")(n,r,!1,function(e){a("GP1l")},"data-v-aee55ffc",null);t.default=o.exports},GP1l:function(e,t){}});